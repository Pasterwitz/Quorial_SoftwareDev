{% extends 'base.html' %}


{% block content %}

    <!-- CAROUSEL -->
<div id="mycarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#mycarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="slide 1"></button>
      <button type="button" data-bs-target="#mycarousel" data-bs-slide-to="1" aria-label="slide 2"></button>
      <button type="button" data-bs-target="#mycarousel" data-bs-slide-to="2" aria-label="slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active text-center">
        <img class="img-fluid rounded" src="{{ url_for('static', filename='pics/carousel1.jpg') }}"/>
        <div class="container">
          <div class="carousel-caption">
            <h1>Welcome to Quorial</h1>
            <p>Ask questions about European civil society topics.</p>
          </div>
        </div>
      </div>
      <div class="carousel-item text-center">
        <img class="img-fluid rounded" src="{{ url_for('static', filename='pics/carousel2.jpg') }}"/>
        <div class="container">
          <div class="carousel-caption">
            <h1>Stay informed with context</h1>
            <p>Your chat history and sources are saved per session.</p>
          </div>
        </div>
      </div>
      <div class="carousel-item text-center">
        <img class="img-fluid rounded" src="{{ url_for('static', filename='pics/carousel3.jpg') }}"/>
        <div class="container">
          <div class="carousel-caption">
            <h1>Grounded answers only</h1>
            <p>We cite every source retrieved from Voxeurop.</p>
          </div>
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mycarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mycarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">next</span>
    </button>
  </div>
    <!-- END CAROUSEL -->

{% if g.user %}
  <div class="container marketing">

        <!-- START THE FEATURETTES -->
        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading">{{ g.user['username'] }}, welcome back!</h2>

                <p class="lead">Quorial connects your questions to our curated Voxeurop knowledge base and a live Mistral LLM.</p>

                <p>Open the chat to start a new session or revisit existing answers.</p>

            </div>
            <div class="col-md-5 order-md-1">
                <img class="img-fluid img-thumbnail" width="500" height="500" src="{{ url_for('static', filename='pics/featurette1.jpg') }}"/>
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">

               <h2 class="featurette-heading">How it works</h2>
                <p class="lead">1) Retrieve relevant articles → 2) Build a grounded context → 3) Ask Mistral for the final response.</p>
                <p>Each answer cites the sources it relied on so you can verify every claim.</p>

            </div>
            <div class="col-md-5">
                <img class="img-fluid img-thumbnail" width="500" height="500" src="{{ url_for('static', filename='pics/featurette2.jpg') }}"/>
            </div>
        </div>

        <!-- /END THE FEATURETTES -->

    </div><!-- /.container -->


{% else %}
  <div class="container marketing">

        <!-- START THE FEATURETTES -->
      <hr class="featurette-divider">
       <p class="lead">Log in to access the Quorial chat assistant.</p>
       <p><a href="{{ url_for('auth.login') }}"><b>Login</b></a></p>
        <hr class="featurette-divider">
        <!-- /END THE FEATURETTES -->

  </div><!-- /.container -->
{% endif %}


{% endblock %}
